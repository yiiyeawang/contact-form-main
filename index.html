<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="styles/output.css" rel="stylesheet" />
    <title>Frontend Mentor | Contact form</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
    <style>
      .attribution {
        font-size: 11px;
        text-align: center;
      }
      .attribution a {
        color: hsl(228, 45%, 44%);
      }
    </style>
  </head>
  <body class="flex items-center justify-center h-screen bg-primary-light relative max-375:px-4 max-375:py-8">
    <section class=" flex flex-col bg-neutral-White rounded-xl py-10 px-8 ">
      <h3 class="text-3xl font-bold mb-8">Contact Us</h3>
      <form class="flex flex-col mb-8 ">
        <div class="flex mb-4 max-375:flex-col">
            <div class="">
                <label for="firstName" class="inline-block pb-2" >First Name</label>
                <input id="firstName" class="rounded-lg border border-neutral  block py-2 px-4  focus:border-primary focus:outline-none   hover:border-primary hover:cursor-pointer max-375:w-full"  type="text"   />
                <span class="warning hidden text-primary-red leading-10">This field is required</span>
            </div>
            <div class="max-375:ml-0 ml-3 mb-4 ">
                <label for="lastName" class="inline-block pb-2">Last Name</label>
                <input id="lastName" class="rounded-lg border block py-2 px-4 border-neutral focus:border-primary focus:outline-none   hover:border-primary hover:cursor-pointer max-375:w-full" type="text"  />
                <span class="warning hidden text-primary-red leading-10">This field is required</span>
            </div>
        </div>
        <div class="flex-col mb-4 ">
          <label for="EmailAddress" class="inline-block pb-2">Email Address</label>
          <input id="email" class="rounded-lg border block w-full py-2 px-4 border-neutral focus:border-primary focus:outline-none   hover:border-primary hover:cursor-pointer" type="email"  />
          <span class="warning hidden text-primary-red leading-10">Please enter a valid email address </span>
        </div>
        <div class="mb-4 ">
          <label class="inline-block pb-2" for="Query Type"> Query Type</label>
          <div class="flex flex-row max-375:flex-col">
            <div class="flex-auto rounded-lg border py-2 px-4 border-neutral focus:border-primary focus:outline-none   hover:border-primary hover:cursor-pointer flex flex-row items-center ">
                <svg class="hidden checked" width="17" height="17" fill="none" viewBox="0 0 20 21">
                    <path fill="#0C7D69" d="M10 .75a9.75 9.75 0 1 0 9.75 9.75A9.76 9.76 0 0 0 10 .75Zm0 18a8.25 8.25 0 1 1 8.25-8.25A8.26 8.26 0 0 1 10 18.75Zm5.25-8.25a5.25 5.25 0 1 1-10.499 0 5.25 5.25 0 0 1 10.499 0Z"/>
                </svg>
                <div class="inline-block rounded-lg border border-neutral-400 w-4 h-4 "></div>
                <input
                    class="appearance-none ml-4"
                    type="radio"
                    id="General Enquiry"
                    name="Query Type"
                    value="General Enquiry"
                />
                <label class="hover:cursor-pointer" for="General Enquiry">General Enquiry</label>
            </div>
            <div class="flex-auto rounded-lg border ml-3 py-2 px-4 border-neutral focus:border-primary focus:outline-none   hover:border-primary hover:cursor-pointer flex flex-row items-center max-375:ml-0 max-375:mt-3">
                <svg class="hidden"  width="20" height="21" fill="none" viewBox="0 0 20 21"><path fill="#0C7D69" d="M10 .75a9.75 9.75 0 1 0 9.75 9.75A9.76 9.76 0 0 0 10 .75Zm0 18a8.25 8.25 0 1 1 8.25-8.25A8.26 8.26 0 0 1 10 18.75Zm5.25-8.25a5.25 5.25 0 1 1-10.499 0 5.25 5.25 0 0 1 10.499 0Z"/></svg>
                <div class="inline-block rounded-lg border border-neutral-400 w-4 h-4 "></div>
                <input
                    class="appearance-none ml-4"
                    type="radio"
                    id="Support Request"
                    name="Query Type"
                    value="Support Request"
                />
                <label class="hover:cursor-pointer" for="Support Request">Support Request</label>
            </div> 
          </div>
          <span class="warning hidden text-primary-red leading-10"> Please select a query type</span>
        </div>
        <div class="flex flex-col mb-4 ">
          <label class="inline-block pb-2" for="Message">Message</label>
          <textarea class=" rounded-lg border py-2 px-4 border-neutral focus:border-primary focus:outline-none resize-none hover:border-primary hover:cursor-pointer" name="Message" id="Message" cols="10" rows="3"></textarea>
          <span class="warning hidden text-primary-red leading-10">This field is required</span>
        </div>
        <div class="mb-4 ">
            <div class="flex">
                <svg id="rols-checked" class="hidden inline-block"  width="16" height="16" fill="none" viewBox="0 0 18 18"><path fill="#0C7D69" d="M16.5 0h-15A1.5 1.5 0 0 0 0 1.5v15A1.5 1.5 0 0 0 1.5 18h15a1.5 1.5 0 0 0 1.5-1.5v-15A1.5 1.5 0 0 0 16.5 0Zm-3.22 7.28-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.751.751 0 0 1 1.06 1.06Z"/></svg>
                <div id="rols-unchecked" class="border-primary border w-[16px] h-[16px]  hover:border-primary inline-block "></div>
            <input
                class="appearance-none"
                type="checkbox"
                name="rols"
                id="rols"
            />
            <label class="pl-2 hover:cursor-pointer leading-[18px]" for="rols">I consent to being contacted by the team
            </label>
            </div>
            <span class="warning hidden block text-primary-red leading-10">To submit this form, please consent to being contacted</span>
        </div>
        <div class="">
            <button id="Submit" class="bg-primary w-full block rounded-lg py-2 px-4   hover:bg-primary-dark hover:text-neutral-White hover:cursor-pointer" type="submit " >Submit</button>
        </div>  
      </form>
      <div class="attribution">
        Challenge by
        <a href="https://www.frontendmentor.io?ref=challenge">Frontend Mentor</a
        >. Coded by <a href="#">Angela Wang</a>.
      </div>
    </section>
    <div class="hidden modal bg-neutral-darker text-neutral-White px-8 py-6 rounded-lg absolute top-8 ">
        <h6 class="font-bold">
            <svg class="inline-block" width="20" height="21" fill="none" viewBox="0 0 20 21"><path fill="#fff" d="M14.28 7.72a.748.748 0 0 1 0 1.06l-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.75.75 0 0 1 1.06 0Zm5.47 2.78A9.75 9.75 0 1 1 10 .75a9.76 9.76 0 0 1 9.75 9.75Zm-1.5 0A8.25 8.25 0 1 0 10 18.75a8.26 8.26 0 0 0 8.25-8.25Z"/></svg>
        Message Sent! 
        <h6>
        <p>Thanks for completing the form. We'll be in touch
      soon!</p>
    </div>
  </body>
  <script>

    const firstName = document.getElementById('firstName');
    const lastName = document.getElementById('lastName');
    const eamil = document.getElementById('email')
    const queryType = document.getElementsByName('Query Type');
    const message = document.getElementById('Message');
    const rols = document.getElementById('rols')

    const warnings = document.querySelectorAll('span.warning')
    const sumitBTN = document.getElementById('Submit') 

    //radio style
    queryType.forEach(e => {
        e.addEventListener('click',(ev)=>{
            //點擊時先清楚所有樣子，再賦予被點擊對象的樣子
            queryType.forEach(inputBtn => {
                inputBtn.parentElement.classList.remove('bg-primary/[40%]');
                inputBtn.previousElementSibling.previousElementSibling.classList.add('hidden');
                inputBtn.previousElementSibling.classList.remove('hidden')
            })
            if (ev.target.checked ) {

                const checkedSVG = ev.target.previousElementSibling.previousElementSibling
                const defaltCircle = ev.target.previousElementSibling
                const parentDIV = ev.target.parentElement;

                parentDIV.classList.add('bg-primary/[40%]')
                checkedSVG.classList.remove('hidden')
                defaltCircle.classList.add('hidden')
            }
        })
    })

    //checkbox style
    rols.addEventListener('click',(e)=> {
        const rolsChecked = document.getElementById('rols-checked')
        const rolsUnChecked = document.getElementById('rols-unchecked')
        //console.log(rolsChecked);
        if (rols.checked) {
            //console.log('checkbox is checkd');
            rolsChecked.classList.remove('hidden');
            rolsUnChecked.classList.add('hidden');
        }else {
            //console.log('checkbox is unchecked');
            rolsChecked.classList.add('hidden');
            rolsUnChecked.classList.remove('hidden');
        }
    })


    sumitBTN.addEventListener("click",function(e){
        e.preventDefault();
        // console.log(warnings);
        let formValues = {
            firstName : firstName.value ,
            lastName : lastName.value,
            email:email.value,
            queryType : queryType[0].checked ? queryType[0].value : queryType[1].checked ? queryType[1].value : "",
            message : message.value,
            rols : rols.checked,
        }
        let counts = 0;
        let warningCounts = 0;
        for (const key in formValues) {
            if (Object.hasOwnProperty.call(formValues, key)) {
                if (formValues[key] === "" | formValues[key] === undefined | formValues[key] === null | formValues[key] === false) {
                    warnings[counts].classList.remove('hidden');
                    warnings[counts].previousElementSibling.classList.replace('border-neutral','border-primary-red')
                    warningCounts++;
                }else {
                    warnings[counts].classList.add('hidden');
                    warnings[counts].previousElementSibling.classList.replace('border-primary-red','border-neutral')
                }
                counts++;
            }
        }
        let warningLength = document.querySelectorAll('span.hidden').length
        if (warningLength === 6 & warningCounts === 0) {
            //console.log('通通都寫了');
            const modal = document.querySelector('.modal');
            modal.classList.remove('hidden')
            setTimeout(()=>{
                //console.log('timelout 3.6s');
                modal.classList.add('hidden')
            },3600)
        }
    })

    


  
  </script>
</html>
